
<ui:composition template="/WEB-INF/tags/layoutAdvisor.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
	<ui:define name="content">
		#{customerController.updateCustomerInController()}
		<h1>Client : #{customerController.customer.id} -
			#{customerController.customer.name}
			#{customerController.customer.forename}</h1>
		<h2>Liste des Comptes</h2>
		
		<div class="row">
			<div class="col-md-4 col-md-offset-1">
				<c:choose>
					<c:when test="#{customerController.isCurrentAccountExist()}">
						<p:fieldset legend="Compte Courant" style="margin-bottom:20px">
							<div class="row">
								<div class="col-md-6 text-right">Numéro de Compte :</div>
								<div class="col-md-6">
									<h:outputText
										value="#{customerController.customer.currentAccount.id}" />
								</div>
								<div class="col-md-6 text-right">Solde :</div>
								<div class="col-md-6">
									<h:outputText
										value="#{customerController.customer.currentAccount.amount}" />
								</div>
								<div class="col-md-6 text-right">Découvert autorisé :</div>
								<div class="col-md-6">
									<h:outputText
										value="#{customerController.customer.currentAccount.overdraft}" />
								</div>
							</div>
						</p:fieldset>
					</c:when>
					<c:otherwise>
						<h:form>
							<p:commandButton value="Créer un compte Courant"
								action="#{customerController.customerAccountCreationPage(customerController.customer.id)}" />
						</h:form>
					</c:otherwise>
				</c:choose>
				<!-- 				<c:if test="#{customerController.isCurrentAccountExist()}"> -->

				<!-- 				</c:if> -->
			</div>
			<div class="col-md-4 col-md-offset-2">
				<c:choose>
					<c:when test="#{customerController.isSavingAccountExist()}">
						<p:fieldset legend="Compte Epargne" style="margin-bottom:20px">
							<div class="row">
								<div class="col-md-6 text-right">Numéro de compte :</div>
								<div class="col-md-6">
									<h:outputText
										value="#{customerController.customer.savingAccount.id}" />
								</div>
								<div class="col-md-6 text-right">Solde :</div>
								<div class="col-md-6">
									<h:outputText
										value="#{customerController.customer.savingAccount.amount}" />
								</div>
								<div class="col-md-6 text-right">Taux d'épargne :</div>
								<div class="col-md-6">
									<h:outputText
										value="#{customerController.customer.savingAccount.rate}" />
								</div>
							</div>
						</p:fieldset>
					</c:when>
					<c:otherwise>
						<h:form>
							<p:commandButton value="Créer un compte Epargne"
								action="#{customerController.customerAccountCreationPage(customerController.customer.id)}" />
						</h:form>
					</c:otherwise>
				</c:choose>
				<!-- 				<c:if test="#{customerController.isSavingAccountExist()}"> -->

				<!-- 				</c:if> -->
			</div>
		</div>

	</ui:define>
</ui:composition>